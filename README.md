## Отслеживание и подсчёт автомобилей на дорожном видео (YOLOv8)

Проект реализует пайплайн видеоаналитики:

- Детекция транспортных средств на каждом кадре (YOLOv8)
- Трекинг объектов между кадрами с уникальными ID (YOLOv8 tracking + BoT-SORT)
- Подсчёт проехавших автомобилей по линии
- Визуализация: bounding box’ы + ID, линия подсчёта, счётчик рядом с линией

---

## Данные
- Видео (Google Drive): https://drive.google.com/file/d/1X5PWqgTCfODy_wf7iCzcotvYDfQgcU9j/view?usp=drive_link

---

## Быстрый запуск

### 1) Создать и активировать виртуальное окружение (рекомендуется)
python -m venv .venv
source .venv/bin/activate

### 2) Установить зависимости
pip install -r requirements.txt

### 3) Скачать видео и положить в нужное место
Скачай .mp4 по ссылке выше и положи файл сюда (путь по умолчанию в коде):

~/Downloads/vehicle-counting.mp4

Если файл называется иначе или лежит в другом месте — открой main.py и поменяй:
- SOURCE_VIDEO (путь к входному видео)
- OUTPUT_VIDEO (путь к выходному видео)

### 4) Запустить обработку
python main.py

### 5) Результат
Готовое видео с bbox + ID + линией и счётчиком сохраняется сюда:

~/Movies/vehicle-counting-output.mp4

После окончания работы в терминале печатается финальная статистика:
- TOTAL ONCOMING: <число>

---

## Как работает подсчёт (коротко)
- На каждом кадре выполняется детекция и трекинг, каждому объекту присваивается track ID.
- Машина засчитывается один раз, когда нижняя граница её bounding box пересекает/касается линии подсчёта.
- Машины, которые не должны попадать в счётчик, отсекаются логикой направления движения (настройки в main.py).
